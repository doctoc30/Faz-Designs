<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Typewriter + Rocket + Jotform</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100vh;
      width: 100vw;
      overflow: hidden;
      font-family: 'Poppins', sans-serif;
      background: white;
    }

    .color-rise {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background-color: white;
      animation: solidRise 8s ease-in-out forwards;
      z-index: 0;
    }

    @keyframes solidRise {
      0% { background-color: white; }
      100% { background-color: #ff3131; }
    }

    .overlay-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-weight: bold;
      color: white;
      text-shadow: 0 0 30px #b30000;
      z-index: 1;
      text-align: center;
      opacity: 0;
    }

    /* Portrait font bigger */
    .portrait-text {
      display: none;
      font-size: clamp(5rem, 15vw, 10rem);
      white-space: pre-line;
      max-width: 90vw;
      line-height: 1;
    }

    .landscape-text {
      display: none;
      font-size: clamp(1.8rem, 5vw, 3rem);
      max-width: 40ch;
      line-height: 1.2;
      white-space: pre-line;
    }

    @media (orientation: portrait) {
      .portrait-text {
        display: block;
      }
    }

    @media (orientation: landscape) {
      .landscape-text {
        display: block;
        opacity: 1;
      }
    }

    .typed-line {
      display: block;
    }

    .cursor {
      display: inline-block;
      width: 1ch;
      animation: blink 0.8s infinite;
    }

    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }

    @keyframes rocketRise {
      0% {
        transform: translate(-50%, -50%) translateY(0);
        opacity: 1;
      }
      100% {
        transform: translate(-50%, -150%) translateY(-100vh);
        opacity: 0;
      }
    }

    /* --- Jotform style multi-step form styles --- */
    #jotform {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90vw;
      max-width: 400px;
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      color: #333;
      z-index: 10;
      font-size: 1.2rem;
    }

    #jotform h2 {
      margin-bottom: 1rem;
      color: #ff3131;
      text-align: center;
    }

    .form-step {
      display: none;
    }

    .form-step.active {
      display: block;
    }

    .form-buttons {
      margin-top: 1.5rem;
      text-align: right;
    }

    button {
      background-color: #ff3131;
      color: white;
      border: none;
      padding: 0.6rem 1.2rem;
      font-size: 1rem;
      border-radius: 6px;
      cursor: pointer;
    }

    button:disabled {
      background-color: #ffa6a6;
      cursor: default;
    }
  </style>
</head>
<body>

  <div class="color-rise"></div>

  <!-- Portrait typewriter target -->
  <div class="overlay-text portrait-text" id="portraitText"></div>

  <!-- Landscape typewriter target -->
  <div class="overlay-text landscape-text" id="landscapeText"></div>

  <!-- Jotform style multi-step form -->
  <div id="jotform">
    <h2>Quick Questions</h2>
    <div class="form-step active" data-step="0">
      <label>What is your website's main purpose?</label><br/>
      <select id="q0">
        <option value="">Select</option>
        <option value="Business">Business</option>
        <option value="Portfolio">Portfolio</option>
        <option value="E-commerce">E-commerce</option>
        <option value="Other">Other</option>
      </select>
    </div>
    <div class="form-step" data-step="1">
      <label>What style do you prefer?</label><br/>
      <select id="q1">
        <option value="">Select</option>
        <option value="Modern">Modern</option>
        <option value="Classic">Classic</option>
        <option value="Minimalist">Minimalist</option>
      </select>
    </div>
    <div class="form-step" data-step="2">
      <label>Your name:</label><br/>
      <input type="text" id="q2" placeholder="Name" />
    </div>
    <div class="form-step" data-step="3">
      <label>Your email:</label><br/>
      <input type="email" id="q3" placeholder="Email" />
    </div>
    <div class="form-buttons">
      <button id="nextBtn" disabled>Next</button>
    </div>
  </div>

  <script>
    // Your existing portrait and landscape typing code here
    const portraitText = document.getElementById('portraitText');
    const landscapeText = document.getElementById('landscapeText');

    const portraitLines = [
      "We build",
      "custom",
      "websites",
      "for small",
      "businesses"
    ];

    const landscapeLines = [
      "We build custom websites",
      "for small businesses"
    ];

    const typingSpeed = 100;
    const lineDelay = 500;
    const postTypingDelay = 1000;

    const cursor = document.createElement('span');
    cursor.classList.add('cursor');
    cursor.textContent = '|';

    // Portrait typing logic
    let pCurrentLine = 0;
    let pCurrentChar = 0;
    let pLineElement = null;

    function typePortraitChar() {
      if (pCurrentLine >= portraitLines.length) {
        cursor.remove();
        setTimeout(() => {
          portraitText.style.animation = 'rocketRise 2s ease forwards';
          // After rocket animation ends, show form
          setTimeout(showForm, 2000);
        }, postTypingDelay);
        return;
      }

      const text = portraitLines[pCurrentLine];

      if (!pLineElement) {
        pLineElement = document.createElement('div');
        pLineElement.classList.add('typed-line');
        portraitText.appendChild(pLineElement);
        pLineElement.appendChild(cursor);
      }

      if (pCurrentChar < text.length) {
        const char = document.createTextNode(text[pCurrentChar]);
        pLineElement.insertBefore(char, cursor);
        pCurrentChar++;
        setTimeout(typePortraitChar, typingSpeed);
      } else {
        pCurrentLine++;
        pCurrentChar = 0;
        pLineElement = null;
        setTimeout(typePortraitChar, lineDelay);
      }
    }

    // Landscape typing logic
    let lCurrentLine = 0;
    let lCurrentChar = 0;
    let lLineElement = null;

    function typeLandscapeChar() {
      if (lCurrentLine >= landscapeLines.length) {
        cursor.remove();
        setTimeout(() => {
          landscapeText.style.animation = 'rocketRise 2s ease forwards';
          setTimeout(showForm, 2000);
        }, postTypingDelay);
        return;
      }

      const text = landscapeLines[lCurrentLine];

      if (!lLineElement) {
        lLineElement = document.createElement('div');
        lLineElement.classList.add('typed-line');
        landscapeText.appendChild(lLineElement);
        lLineElement.appendChild(cursor);
      }

      if (lCurrentChar < text.length) {
        const char = document.createTextNode(text[lCurrentChar]);
        lLineElement.insertBefore(char, cursor);
        lCurrentChar++;
        setTimeout(typeLandscapeChar, typingSpeed);
      } else {
        lCurrentLine++;
        lCurrentChar = 0;
        lLineElement = null;
        setTimeout(typeLandscapeChar, lineDelay);
      }
    }

    // Show the form and hide typewriter texts
    function showForm() {
      portraitText.style.display = 'none';
      landscapeText.style.display = 'none';
      document.getElementById('jotform').style.display = 'block';
      document.body.style.backgroundColor = 'white';
    }

    // Start typing after background animation completes
    setTimeout(() => {
      if (window.innerHeight > window.innerWidth) {
        portraitText.style.opacity = 1;
        typePortraitChar();
      } else {
        landscapeText.style.opacity = 1;
        typeLandscapeChar();
      }
    }, 5000);

    // --- Jotform multi-step logic ---
    const form = document.getElementById('jotform');
    const steps = form.querySelectorAll('.form-step');
    const nextBtn = document.getElementById('nextBtn');
    let currentStep = 0;

    // Enable next button only if input/select has value
    function validateStep() {
      const currentInput = steps[currentStep].querySelector('input, select');
      if (!currentInput) return nextBtn.disabled = false;
      nextBtn.disabled = currentInput.value.trim() === '';
    }

    form.addEventListener('input', validateStep);

    nextBtn.addEventListener('click', () => {
      if (nextBtn.disabled) return;

      // Hide current step
      steps[currentStep].classList.remove('active');
      currentStep++;

      if (currentStep >= steps.length) {
        alert('Thank you! Form completed.');
        // Optionally reset or do something else here
        return;
      }

      // Show next step
      steps[currentStep].classList.add('active');
      validateStep();
    });

    // Initialize button state
    validateStep();
  </script>
</body>
</html>
